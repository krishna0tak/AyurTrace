<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AyurTrace - Authentic Ayurvedic Transparency</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="theme.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="config.js"></script>
    <script src="supabase-auth.js"></script>
</head>
<body class="bg-white">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <img src="ayutrace_logo_svg.svg" alt="AyurTrace Logo" class="h-10 w-auto">
                <h1 class="text-2xl font-bold text-gray-800">AyurTrace</h1>
            </div>
            <nav class="hidden md:flex items-center space-x-8">
                <a href="#" class="text-gray-600 hover:text-primary font-medium">Home</a>
                <a href="#how-it-works" class="text-gray-600 hover:text-primary font-medium">How It Works</a>
                <a href="#why-choose-us" class="text-gray-600 hover:text-primary font-medium">Why Choose Us</a>
            </nav>
            <div id="authSection">
                <div id="loginButton" class="hidden">
                    <a href="login.html" class="btn btn-primary">Login / Signup</a>
                </div>
                <div id="userSection" class="hidden flex items-center space-x-4">
                    <span id="userName" class="text-gray-700 font-medium"></span>
                    <button id="logoutButton" class="btn btn-secondary">Logout</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <main>
        <section class="bg-light-green py-20">
            <div class="container mx-auto px-6 grid md:grid-cols-2 gap-12 items-center">
                <div class="text-left">
                    <h2 class="text-4xl md:text-5xl font-extrabold text-dark-gray mb-4 leading-tight">Authentic Ayurvedic Transparency</h2>
                    <p class="text-lg text-medium-gray mb-8">Trace your Ayurvedic products from farm to shelf with blockchain-powered transparency. Verify authenticity, quality, and sustainability with a simple scan.</p>
                    
                    <div class="max-w-lg bg-white p-4 rounded-lg shadow-md flex gap-2">
                        <input id="trackIdInput" type="text" placeholder="Enter Batch ID or scan QR code..." class="w-full px-4 py-2 text-gray-800 rounded-lg border focus:outline-none focus:ring-2 focus:ring-primary">
                        <button id="trackBtn" class="btn btn-primary flex-shrink-0">Trace</button>
                    </div>
                    <p class="text-sm text-medium-gray mt-4">ðŸŒ¿ Instantly verify product authenticity</p>
                </div>
                <div>
                    <img src="spring-farm.jpg" alt="Lush green farm with fresh crops" class="rounded-xl shadow-2xl">
                </div>
            </div>
        </section>

        <!-- How It Works Section -->
        <section id="how-it-works" class="py-20">
            <div class="container mx-auto px-6">
                <h3 class="section-title">How AyurTrace Works</h3>
                <p class="section-subtitle">Our blockchain-powered platform ensures complete transparency in the Ayurvedic supply chain, from cultivation to consumer.</p>
                <div class="grid md:grid-cols-3 gap-10 text-center">
                    <div class="card">
                        <div class="flex justify-center mb-4">
                            <img src="scan-icon.svg" alt="Scan QR Code Icon" class="w-20 h-20">
                        </div>
                        <h4 class="text-xl font-semibold mb-2">1. Scan QR Code</h4>
                        <p class="text-gray-600">Simply scan the QR code on your Ayurvedic product packaging to begin the traceability journey.</p>
                    </div>
                    <div class="card">
                        <div class="flex justify-center mb-4">
                            <img src="journey-icon.svg" alt="View Journey Icon" class="w-20 h-20">
                        </div>
                        <h4 class="text-xl font-semibold mb-2">2. View Journey</h4>
                        <p class="text-gray-600">Explore the complete supply chain journey with detailed information about each step and stakeholder.</p>
                    </div>
                    <div class="card">
                        <div class="flex justify-center mb-4">
                            <img src="verify-icon.svg" alt="Verify Authenticity Icon" class="w-20 h-20">
                        </div>
                        <h4 class="text-xl font-semibold mb-2">3. Verify Authenticity</h4>
                        <p class="text-gray-600">Confirm product authenticity and quality with blockchain-verified information from trusted sources.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Why Choose Us Section -->
        <section id="why-choose-us" class="py-20 bg-light-gray">
            <div class="container mx-auto px-6 grid md:grid-cols-2 gap-12 items-center">
                <div>
                    <h3 class="text-3xl font-bold mb-6">Why Choose AyurTrace?</h3>
                    <div class="space-y-6">
                        <div class="flex items-start gap-4">
                            <div class="flex-shrink-0"><img src="tradition-icon.svg" alt="Traditional Wisdom Icon" class="w-10 h-10"></div>
                            <div>
                                <h4 class="font-semibold text-lg">Traditional Wisdom</h4>
                                <p class="text-medium-gray">Preserving the integrity of ancient Ayurvedic practices with modern transparency.</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <div class="flex-shrink-0"><img src="blockchain-icon.svg" alt="Blockchain Security Icon" class="w-10 h-10"></div>
                            <div>
                                <h4 class="font-semibold text-lg">Blockchain Security</h4>
                                <p class="text-medium-gray">Immutable records ensure data integrity and prevent counterfeiting.</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-4">
                            <div class="flex-shrink-0"><img src="instant-icon.svg" alt="Instant Verification Icon" class="w-10 h-10"></div>
                            <div>
                                <h4 class="font-semibold text-lg">Instant Verification</h4>
                                <p class="text-medium-gray">Real-time access to complete product history with a simple scan.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <img src="https://images.unsplash.com/photo-1639762681485-074b7f938ba0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80" alt="Abstract blockchain visualization" class="rounded-xl shadow-2xl">
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-dark-gray text-white py-10">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2025 AyurTrace. Bridging tradition with transparency.</p>
        </div>
    </footer>

    <script>
        // Authentication state management
        async function initAuthState() {
            const user = await getCurrentUser();
            const loginButton = document.getElementById('loginButton');
            const userSection = document.getElementById('userSection');
            const userName = document.getElementById('userName');
            if (user) {
                loginButton.classList.add('hidden');
                userSection.classList.remove('hidden');
                userName.textContent = `Welcome, ${user.name}`;
            } else {
                loginButton.classList.remove('hidden');
                userSection.classList.add('hidden');
            }
            const logoutBtn = document.getElementById('logoutButton');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', async () => { await signOut(); });
            }
        }

        // Track functionality
        document.getElementById('trackBtn').addEventListener('click', () => {
            const trackId = document.getElementById('trackIdInput').value.trim();
            if (trackId) {
                window.location.href = `search.html#${encodeURIComponent(trackId)}`;
            } else {
                alert('Please enter a Batch ID to track.');
            }
        });

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            initAuthState();
        });
    </script>

</body>
</html>